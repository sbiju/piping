{% extends 'base.html' %}
{% load static %}

{% load crispy_forms_tags %}
{% block head_title %}{% endblock %}


{% block content %}

<div class="container mt-2">
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Daily Welding Report</a>
  </li>
  <li class="nav-item">
    <a class="nav-link side-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Unitwise Welding Report</a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
      <div class="row">
          <div class="col-sm-10 offset-1">
            <div class="table-responsive">
             <h3 class="mt-2 pb-2">Daily Welding Report</h3>
             <p>Total Inch Dia Completed : {{ total_dia.inch_dia__sum }}</p>
             <p>Average Productivity : {{ average_dia.avg_dia }}</p>
              <table class="table table-bordered">
                  <tr>
                  <th>NO.</th>
                  <th>Date of Welding</th>
                  <th>No of Welders</th>
                   <th>Inch Dia Completed</th>
                   <th>Productivity</th>
                  </tr>
                  {% for item in day_report %}
                  <tr>
                      <td>{{ forloop.counter }}</td>
                      <td>{{ item.weld_date }}</td>
                      <td>{{ item.no_of_welder }}</td>
                      <td>{{ item.total_inch }}</td>
                      <td>{{ item.avg_dia }}</td>
                  </tr>
                  {% endfor %}
              </table>
            </div>
        </div>
      </div>
  </div>
  <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="row">
         <div class="col-sm-10 offset-1">
            <div class="table-responsive">
             <h3 class="mt-2 pb-2">Unitwise Welding Report</h3>
             <p>Total Inch Dia Completed : {{ total_dia.inch_dia__sum }}</p>
             <p>Average Productivity : {{ average_dia.avg_dia }}</p>
              <table class="table table-bordered">
                  <tr>
                  <th>NO.</th>
                  <th>Unit</th>
                  <th>No of Welders</th>
                   <th>Inch Dia Completed</th>
                   <th>Productivity</th>
                  </tr>
                  {% for item in unit_report %}
                  <tr>
                      <td>{{ forloop.counter }}</td>
                      <td>{{ item.iso__unit__name }}</td>
                      <td>{{ item.no_of_welder }}</td>
                      <td>{{ item.total_inch }}</td>
                      <td>{{ item.avg_dia }}</td>
                  </tr>
                  {% endfor %}
              </table>
            </div>
        </div>
    </div>
      </div>
  </div>
</div>
{% endblock %}